import"./base-40151e19.js";import"./el-input-5a2c3fae.js";/* empty css               *//* empty css                  */import"./el-scrollbar-4d76fa87.js";import{r as a,o as le,a as t,c as n,b as s,w as oe,i as c,f as U,v as $,d as m,l as M,O as se,F as D,m as I,q as T,p as te,g as ne}from "./app-417fc4a4.js";import{d as re}from "./index-5c14bedf.js";/* empty css                    */import{_ as ue}from "./_plugin-vue_export-helper-c27b6911.js";import{E as ie,a as de}from "./index-7afdeace.js";import"./typescript-8048a034.js";import"./index-e7076969.js";import"./scroll-b0cd01fe.js";import"./_baseIteratee-ab40514f.js";import"./validator-3cef17f7.js";const r= q=>(te("data-v-4e4c8c6e"),q=q(),ne(),q),ce={class:"card"},ve={class:"card-body"},me=r(()=>s("h2",{class:"mb-4"},"My Profile",-1)),pe={class:"card"},fe={class:"card-body"},be={key:0,class:"mb-4"},_e={class:"formbold-mb-3"},ge=r(()=>s("label",{class:"formbold-form-label"}," User Name ",-1)),ye={class:"formbold-mb-3"},he=r(()=>s("label",{class:"formbold-form-label"}," Email ",-1)),we={class:"formbold-mb-3"},ke=r(()=>s("label",{class:"formbold-form-label"}," Phone ",-1)),Ce={key:1,class:"formbold-mb-3"},Ve=r(()=>s("label",{class:"formbold-form-label"},"Gender",-1)),xe={class:"row"},Pe={key:0,class:"mb-4 col-md-12"},Ue={key:1,class:"formbold-mb-3 col-md-6"},$e=r(()=>s("label",{class:"formbold-form-label"}," Company Logo ",-1)),qe={key:2,class:"formbold-mb-3 col-md-6"},Se=r(()=>s("label",{class:"formbold-form-label"}," Company Name ",-1)),Ee={key:3,class:"formbold-mb-3 col-md-6"},Me=r(()=>s("label",{class:"formbold-form-label"},"Country",-1)),Ne={class:"countries"},Fe={key:4,class:"formbold-mb-3 col-md-6"},Be=r(()=>s("label",{class:"formbold-form-label"},"City",-1)),ze={class:"countries"},De={key:5,class:"formbold-mb-3 col-md-6"},Ie=r(()=>s("label",{class:"formbold-form-label"},"Address",-1)),Ae={key:6,class:"formbold-mb-3 col-md-6 mt-3"},Le=r(()=>s("label",{class:"form bold-form-label"},"Language",-1)),Oe={class:"countries"},Ge=r(()=>s("div",{class:"text-center"},[s("button",{type:"submit",class:"btn btn-primary p-3"},"Submit")],-1)),Te={__name:"CreateCompany",setup(q){const R=a(""),N=a(""),_=a(""),g=a(""),v=a(""),y=a(""),p=a(""),h=a(""),w=a(""),F=a(""),B=a(""),z=a(""),k=a(""),u={loading:a(!1),all:a([]),list:a([]),options:a([])},A=re.useToast(),f={loading:a(!1),all:a([]),list:a([]),options:a([])};a(!1),a([]),a([]),a([]),a(!1),a([]),a([]),a([]);const C=a(""),b=a(""),L=a(!1),i=a(!1),d=a(!1),O=a(!1),V=a(!1),S=a(!0);a(!1),a({name:"",country:"",city:"",state:"",phone:"",email:"",abriviation:"",address:"",currency:"",lat:"",lng:""});const j=a([]),x={loading:a(!1),all:a([]),list:a([]),options:a([])};a(!1),a([]),a([]),a([]);const H=async()=>{try{const e=await axios.get("get/branches");j.value=e.data}catch(e){console.error(e)}},J=()=>{console.log(S),S.value===!0?A.success("branch created successfully.",{position:"top"}):A.error("branch not created.",{position:"top"})},K=async()=>{try{const e=await axios.get("get/user/role");b.value=e.data}catch(e){console.error(e)}finally{b.value==="admin"?L.value=!0:b.value==="active_supplier"?i.value=!0:b.value==="supplier"?d.value=!0:b.value==="customer"?O.value=!0:b.value==="reviewing"&&(V.value=!0)}},Q= e=>{N.value=e.target.files[0]},W=async()=>{try{const e=await axios.get("/get/user/data");R.value=e.data.logo?e.data.logo:"",_.value=e.data.name?e.data.name:"",g.value=e.data.email?e.data.email:"",v.value=e.data.country?e.data.country:"",h.value=e.data.address?e.data.address:"",p.value=e.data.phone_num?e.data.phone_num:"",w.value=e.data.language?e.data.language:"",k.value=e.data.company?e.data.company:"",C.value=e.data.gender?e.data.gender:"",y.value=e.data.city?e.data.city:"",e.data.role=="customer"&&se.get("/")}catch(e){console.error(e)}},X=async()=>{u.loading.value=!0;try{const e=await axios.get("https://countriesnow.space/api/v0.1/countries",{});u.all.value=e.data.data,u.list.value=u.all.value.map(l=>({id:`${l.id}`,label:`${l.country}`,iso:`${l.iso2}`}))}catch(e){console.error(e)}finally{u.loading.value=!1}},Y=async()=>{x.loading.value=!0;try{const e=await axios.get("get/currencies",{});x.all.value=e.data,x.list.value=x.all.value.map(l=>({id:`${l.id}`,label:`${l.name}`,value:`${l.name}`}))}catch(e){console.error(e)}finally{x.loading.value=!1}},Z=async()=>{try{if(f.loading.value=!0,v.value){const e=await axios.post("https://countriesnow.space/api/v0.1/countries/cities",{country:v.value});f.all.value=e.data.data,console.log(e.data),f.list.value=f.all.value.map(l=>({value:`${l}`,label:`${l}`}))}}catch(e){console.error(e)}finally{f.loading.value=!1}},G=async e=>{},ee=async()=>{const e=new FormData;N.value&&e.append("logo",N.value),_.value&&e.append("name",_.value),v.value&&e.append("country",v.value),y.value&&e.append("city",y.value),g.value&&e.append("email",g.value),p.value&&(console.log(p.value),e.append("phone_num",p.value)),F.value&&e.append("oldPass",F.value),B.value&&e.append("newPass",B.value),z.value&&e.append("confirmNewPass",z.value),k.value&&e.append("company",k.value),C.value&&e.append("gender",C.value),h.value&&e.append("address",h.value),w.value&&e.append("language",w.value);try{(await axios.post("upload",e)).data.message===0?S.value=!1:S.value=!0,J()}catch(l){console.error(l)}finally{F.value=null,B.value=null,z.value=null}};return le(()=>{W(),K(),X(),H(),Y()}),(e, l)=>{const P=de,E=ie;return t(),n("div",ce,[s("div",ve,[me,s("div",pe,[s("div",fe,[s("form",{onSubmit:oe(ee,["prevent"])},[d.value||i.value||V.value?(t(),n("h3",be,"Manager info")):c("",!0),s("div",_e,[ge,U(s("input",{"onUpdate:modelValue":l[0]||(l[0]= o=>_.value=o),class:"formbold-form-input",required:""},null,512),[[$,_.value]])]),s("div",ye,[he,U(s("input",{"onUpdate:modelValue":l[1]||(l[1]= o=>g.value=o),class:"formbold-form-input disabled",required:"",disabled:""},null,512),[[$,g.value]])]),s("div",we,[ke,U(s("input",{"onUpdate:modelValue":l[2]||(l[2]= o=>p.value=o),type:"text",class:"formbold-form-input",required:""},null,512),[[$,p.value]])]),O.value?(t(),n("div",Ce,[Ve,m(E,{modelValue:C.value,"onUpdate:modelValue":l[3]||(l[3]= o=>C.value=o),size:"large",placeholder:"Gender...",style:{width:"100%"}},{default:M(()=>[m(P,{key:"1",label:"Male",value:"Male"}),m(P,{key:"2",label:"Female",value:"Female"})]),_:1},8,["modelValue"])])):c("",!0),s("div",xe,[d.value||i.value||V.value?(t(),n("h3",Pe,"Company info")):c("",!0),d.value||i.value||V.value?(t(),n("div",Ue,[$e,s("input",{onChange:Q,type:"file",class:"formbold-form-input formbold-form-file"},null,32)])):c("",!0),d.value||i.value||V.value||L.value?(t(),n("div",qe,[Se,U(s("input",{"onUpdate:modelValue":l[4]||(l[4]= o=>k.value=o),type:"text",class:"formbold-form-input",required:""},null,512),[[$,k.value]])])):c("",!0),d.value||i.value?(t(),n("div",Ee,[Me,s("div",Ne,[m(E,{modelValue:v.value,"onUpdate:modelValue":l[5]||(l[5]= o=>v.value=o),size:"large",filterable:"",placeholder:"Pickup...",loading:u.loading.value,"on-change":Z(),required:""},{default:M(()=>[(t(!0),n(D,null,I(u.list.value, o=>(t(),T(P,{key:o.id,label:o.label,value:o.label,onClick: ae=>G(o.iso)},null,8,["label","value","onClick"]))),128))]),_:1},8,["modelValue","loading","on-change"])])])):c("",!0),d.value||i.value?(t(),n("div",Fe,[Be,s("div",ze,[m(E,{modelValue:y.value,"onUpdate:modelValue":l[6]||(l[6]= o=>y.value=o),size:"large",filterable:"",remote:"","reserve-keyword":"",placeholder:"Pickup...","remote-show-suffix":"","remote-method":e.remoteCountries,loading:u.loading.value,required:""},{default:M(()=>[(t(!0),n(D,null,I(f.list.value, o=>(t(),T(P,{key:o,label:o.label,value:o.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue","remote-method","loading"])])])):c("",!0),d.value||i.value?(t(),n("div",De,[Ie,U(s("input",{"onUpdate:modelValue":l[7]||(l[7]= o=>h.value=o),type:"text",placeholder:"Address",class:"formbold-form-input col-md-12",required:""},null,512),[[$,h.value]])])):c("",!0),d.value||i.value?(t(),n("div",Ae,[Le,s("div",Oe,[m(E,{modelValue:w.value,"onUpdate:modelValue":l[8]||(l[8]= o=>w.value=o),size:"large",filterable:"",remote:"",multiple:"","reserve-keyword":"",placeholder:"Pickup...","remote-show-suffix":"","remote-method":e.remoteCountries,loading:u.loading.value,required:""},{default:M(()=>[(t(),n(D,null,I([{label:"Arabic"},{label:"English"},{label:"French"}], o=>m(P,{key:o.label,label:o.label,value:o.label,onClick: ae=>G(o.iso)},null,8,["label","value","onClick"])),64))]),_:1},8,["modelValue","remote-method","loading"])])])):c("",!0)]),Ge],32)])])])])}}},ta=ue(Te,[["__scopeId","data-v-4e4c8c6e"]]);export{ta as default};
