import"./base-006c1490.js";import{E as x,a as w}from"./el-table-column-716264cc.js";import"./el-checkbox-5300d020.js";import"./el-tooltip-66a73e45.js";import"./el-scrollbar-3fe9b6f7.js";import{E}from"./el-button-50047d3c.js";import{E as C}from"./el-input-6a853cb5.js";/* empty css               */import{r as l,k as B,T as k,o as T,a as V,c as D,b as n,u as N,j as u,d as t,l as i,O as f}from"./app-30bfa28d.js";import{d as $}from"./index-730c8ef6.js";/* empty css                    */import"./objects-59c3839e.js";import"./_initCloneObject-c174f230.js";import"./isArrayLikeObject-f1e7b3e7.js";import"./_baseIteratee-287b9fba.js";import"./flatten-d513a695.js";import"./index-ee9cdf57.js";import"./use-global-config-8bd1557e.js";import"./typescript-3a767c6c.js";const z={class:"card"},A={class:"card-body"},L=n("h2",{class:"mb-4"},"Branches",-1),j={class:"col-md-3 my-3"},O=n("i",{class:"fa fa-plus"},null,-1),I={class:"card"},M={class:"d-flex justify-content-center col-md-12"},se={__name:"Branches",setup(U){const c=l(""),d=l([]),r=l(!1);l(!1),l({}),$.useToast();const p=async()=>{try{r.value=!0;const a=await axios.get("/get/branches");d.value=a.data}catch(a){console.error(a)}finally{r.value=!1}},h=B(()=>d.value.filter(a=>!c.value||a.name.toLowerCase().includes(c.value.toLowerCase()))),b=(a,e)=>{f.get("/branches/show",{id:e.id})},v=async(a,e)=>{try{if(r.value=!0,confirm("Are you sure you want to delete "+e.name+" branch")!==!0)return;const m=await axios.post("/delete/branches",e);await p(),d.value=m.data}catch(o){console.error(o)}finally{r.value=!1}};return k({name:""}),l(""),T(()=>{p()}),(a,e)=>{const o=w,m=C,_=E,y=x;return V(),D("div",z,[n("div",A,[L,n("div",j,[n("button",{class:"btn btn-primary",onClick:e[0]||(e[0]=()=>N(f).get("/branches/add"))},[u(" Add New Branch "),O])]),n("div",I,[n("div",M,[t(y,{data:h.value,style:{width:"100%"},loading:r.value,stripe:""},{default:i(()=>[t(o,{label:"Branch Name",prop:"name"}),t(o,{label:"Country",prop:"country"}),t(o,{label:"Address",prop:"adresse"}),t(o,{label:"Location",prop:"location"}),t(o,{align:"right"},{header:i(()=>[t(m,{modelValue:c.value,"onUpdate:modelValue":e[1]||(e[1]=s=>c.value=s),size:"small",placeholder:"Type to search"},null,8,["modelValue"])]),default:i(s=>[t(_,{size:"small",type:"warning",onClick:g=>b(s.$index,s.row)},{default:i(()=>[u("Edit ")]),_:2},1032,["onClick"]),t(_,{size:"small",type:"danger",onClick:g=>v(s.$index,s.row)},{default:i(()=>[u("Delete ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","loading"])])])])])}}};export{se as default};
