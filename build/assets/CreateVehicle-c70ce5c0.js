import"./base-40151e19.js";import{E as se}from "./el-switch-bc3395f5.js";import"./el-input-5a2c3fae.js";/* empty css               *//* empty css                  */import"./el-scrollbar-4d76fa87.js";import{r as s,o as te,a as t,c as f,b as e,w as ie,d as h,l as b,i as ne,f as F,v as E,u as de,F as g,m as y,e as ce,q as w,j as Y,t as A,n as re,O as ue}from "./app-417fc4a4.js";import{s as pe}from "./editor.esm-0a488cd8.js";import"./ripple.esm-8eb09072.js";import{B as ve}from "./basecomponent.esm-c24a460c.js";import{d as fe}from "./index-5c14bedf.js";/* empty css                    *//* empty css                   */import{E as me,a as he}from "./index-7afdeace.js";import"./validator-3cef17f7.js";import"./typescript-8048a034.js";import"./index-e7076969.js";import"./scroll-b0cd01fe.js";import"./_baseIteratee-ab40514f.js";var be=`
@layer primevue {
    .p-togglebutton {
        position: relative;
        display: inline-flex;
        user-select: none;
        vertical-align: bottom;
    }

    .p-togglebutton-input {
        cursor: pointer;
    }

    .p-togglebutton .p-button {
        flex: 1 1 auto;
    }
}
`,_e={root:function(d){var i=d.instance,p=d.props;return["p-togglebutton p-component",{"p-disabled":p.disabled,"p-highlight":i.active}]},input:"p-togglebutton-input",box:function(d){var i=d.instance;return["p-button p-component",{"p-button-icon-only":i.hasIcon&&!i.hasLabel}]},icon:function(d){var i=d.instance,p=d.props;return["p-button-icon",{"p-button-icon-left":p.iconPos==="left"&&i.label,"p-button-icon-right":p.iconPos==="right"&&i.label}]},label:"p-button-label"};ve.extend({name:"togglebutton",css:be,classes:_e});const ge={class:"card"},ye={class:"card-body"},we=e("h3",{class:"card-title fw-semibold mb-4"},"Create New Vehicle",-1),Ve={class:"card"},Pe={class:"card-body"},ke={class:"row mb-5"},xe=e("h4",null,"Car Details",-1),$e={class:"mb-3 mt-4 col-12"},Ce=e("label",{class:"formbold-form-label"},"Vehicle Photo",-1),Se=e("div",{class:"display-none",style:{color:"red"},id:"photo"},[e("li",null,"Please select Photo")],-1),Le=e("div",{class:"d-flex",style:{gap:"10px",margin:"2px"}},"Select Photo..",-1),Ue={class:"d-flex",style:{gap:"10px"}},Te=["src"],De={class:"col-4 mt-5"},ze=["src"],Ne={class:"formbold-mb-3 col-md-3"},Be=e("label",{class:"formbold-form-label"}," Vehicle Name ",-1),Fe=e("div",{class:"display-none",style:{color:"red"},id:"name"},[e("li",null,"Vehicle Name is required")],-1),Ee={class:"formbold-mb-3 col-3"},Oe=e("label",{class:"formbold-form-label col-12"},"Pickup Location",-1),qe=e("div",{class:"display-none",style:{color:"red"},id:"pickupLoc"},[e("li",null,"Please select Pickup location")],-1),Ie={class:"countries"},Me={class:"formbold-mb-3 col-3"},We=e("label",{class:"formbold-form-label col-12"},"Category",-1),je=e("div",{class:"display-none",style:{color:"red"},id:"category"},[e("li",null,"Pleasee select Category")],-1),Je={class:"formbold-mb-3 col-3"},Re=e("label",{class:"formbold-form-label col-12"},"Location Types",-1),Ye=e("div",{class:"display-none",style:{color:"red"},id:"category"},[e("li",null,"Please select Vehicle Location Type")],-1),Ae={class:"formbold-mb-3 col-3"},Ge=e("label",{class:"form bold-form-label"},"Fuel Policy",-1),He={class:"countries"},Ke={class:"formbold-mb-3 mb-5 col-3"},Qe=e("label",{class:"formbold-form-label"}," Reserve Without Confirmation ",-1),Xe={class:"formbold-mb-3 mb-5 col-12"},Ze=e("label",{class:"formbold-form-label"}," Vehicle Description ",-1),el=e("div",{class:"display-none",style:{color:"red"},id:"description"},[e("li",null,"Vehicle Description is required")],-1),ll=e("div",{class:"mt-5"},[e("hr")],-1),ol={class:"row"},al=e("h4",null,"Prices Section ",-1),sl={class:"formbold-mb-3 col-4"},tl=e("label",{class:"formbold-form-label"},"Price 1-2 days",-1),il=e("div",{class:"display-none",style:{color:"red"},id:"price"},[e("li",null,"Price 1-2 days is required")],-1),nl={class:"input-with-percent"},dl={class:"formbold-mb-3 col-4"},cl=e("label",{class:"formbold-form-label"},"3 - 7 Days Price",-1),rl=e("div",{class:"display-none",style:{color:"red"},id:"weekPrice"},[e("li",null,"Price 3-7 days is required")],-1),ul={class:"input-with-percent"},pl={class:"formbold-mb-3 col-4"},vl=e("label",{class:"formbold-form-label"},"8-30 Days Price",-1),fl=e("div",{class:"display-none",style:{color:"red"},id:"monthPrice"},[e("li",null,"Price 8-30 days is required")],-1),ml={class:"input-with-percent"},hl=e("hr",null,null,-1),bl=e("h4",null," What is included ? ",-1),_l={class:"row"},gl={class:"formbold-mb-3 col-6"},yl=e("hr",null,null,-1),wl=e("h4",null," Specifications ",-1),Vl={class:"row"},Pl={class:"formbold-form-label col-5"},kl=ce('<hr><div style="height:100px;"></div><div class="row justify-content-center"><div class="col-md-2 ml-5"><button type="submit" class="btn btn-primary p-3" style="color:#0a3622;">Submit </button></div><div class="col-md-5"><a href="/vehicles" class="btn btn-danger p-3">Cancel</a></div></div>',3),Rl={__name:"CreateVehicle",setup(O){const d=fe.useToast(),i=s(""),p=s(""),V=s(""),_=s(""),P=s(""),k=s(""),x=s(""),c={loading:s(!1),all:s([]),list:s([]),options:s([])},C={loading:s(!1),all:s([]),list:s([]),options:s([])},S=s(""),L={loading:s(!1),all:s([]),list:s([]),options:s([])},U=s(""),T=s(""),r={loading:s(!1),all:s([]),list:s([]),options:s([])},D=s(""),z={loading:s(!1),all:s([]),list:s([]),options:s([])},I=s([]),M=s([]),B=s([]),q=s(!1),u={loading:s(!1),all:s([]),list:s([]),options:s([])},G=(l,o,n)=>{const m={name:l,option:o,icon:n};if(!B.value.some(a=>a.name===l))B.value.push(m);else{const a=B.value.find(v=>v.name===l);a&&(a.option=o)}},H=async()=>{try{const l=await axios.get("/get/specifications");M.value=l.data}catch(l){console.error(l)}finally{}},K=async()=>{L.loading.value=!0;try{const l=await axios.get("get/fuel-policies",{});L.all.value=l.data,L.list.value=L.all.value.map(o=>({id:`${o.id}`,label:`${o.name}`,value:`${o.name}`}))}catch(l){console.error(l)}finally{L.loading.value=!1}},Q=async()=>{r.loading.value=!0;try{const l=await axios.get("/get/categories");r.all.value=l.data,r.list.value=r.all.value.map(o=>({id:`${o.id}`,label:`${o.name}`}))}catch(l){console.error(l)}finally{r.loading.value=!1}},W=l=>{l?(r.loading.value=!0,setTimeout(()=>{r.loading.value=!1,r.options.value=r.list.value.filter(o=>o.label.toLowerCase().includes(l.toLowerCase()))},200)):r.options.value=r.list.value},X=async()=>{c.loading.value=!0;try{const l=await axios.get("/get/branches");c.all.value=l.data,c.list.value=c.all.value.map(o=>({id:`${o.id}`,label:`${o.name}`}))}catch(l){console.error(l)}finally{c.loading.value=!1}},Z=async()=>{z.loading.value=!0;try{const l=await axios.get("/get/included");z.all.value=l.data,z.list.value=z.all.value.map(o=>({id:`${o.id}`,label:`${o.what_is_included}`}))}catch(l){console.error(l)}finally{z.loading.value=!1}},j=l=>{l?(c.loading.value=!0,setTimeout(()=>{c.loading.value=!1,c.options.value=c.list.value.filter(o=>o.label.toLowerCase().includes(l.toLowerCase()))},200)):c.options.value=c.list.value},ee=async()=>{u.loading.value=!0;try{const l=await axios.get("/get/photos");u.all.value=l.data,u.list.value=u.all.value.map(o=>({id:`${o.id}`,label:`${o.name}`,photo:`${o.photo}`}))}catch(l){console.error(l)}finally{u.loading.value=!1}},le=async()=>{var l;C.loading.value=!0;try{const o=await axios.get("/get/location-types");console.log("=======>"),console.log(o.data.data),C.all.value=o.data.data,C.list.value=(l=C.all.value)==null?void 0:l.map(n=>({id:`${n.id}`,label:`${n.name}`,photo:`${n.name}`}))}catch(o){console.error(o)}finally{C.loading.value=!1}},J=l=>{l?(u.loading.value=!0,setTimeout(()=>{u.loading.value=!1,u.options.value=u.list.value.filter(o=>o.label.toLowerCase().includes(l.toLowerCase()))},200)):u.options.value=u.list.value},oe=()=>{console.log(_.value);let l=!0;return _.value===""||_.value===[]||_.value===null||_.value===void 0?($("#price").show(),l=!1):$("#price").hide(),P.value===""||P.value===[]||P.value===null||P.value===void 0?($("#weekPrice").show(),l=!1):$("#weekPrice").hide(),k.value===""||k.value===[]||k.value===null||k.value===void 0?($("#monthPrice").show(),l=!1):$("#monthPrice").hide(),i.value===""||i.value===[]||i.value===null||i.value===void 0?($("#photo").show(),l=!1):$("#photo").hide(),p.value===""||p.value===[]||p.value===null||p.value===void 0?($("#name").show(),l=!1):$("#name").hide(),V.value===""||V.value===[]||V.value===null||V.value===void 0?($("#description").show(),l=!1):$("#description").hide(),U.value===""||U.value===[]||U.value===null||U.value===void 0?($("#category").show(),l=!1):$("#category").hide(),x.value===""||x.value===[]||x.value===null||x.value===void 0?($("#pickupLoc").show(),l=!1):$("#pickupLoc").hide(),(D.value===""||D.value===[]||D.value===null||D.value===void 0)&&(d.error("Please select What is included",{position:"top"}),l=!1),(T.value===""||T.value===[]||T.value===null||T.value===void 0)&&(d.error("Please select location type",{position:"top"}),l=!1),(S.value===""||S.value===[]||S.value===null||S.value===void 0)&&(d.error("Please select Fuel Policy",{position:"top"}),l=!1),l},ae=async()=>{try{const l=new FormData;if(l.append("photo",i.value),l.append("name",p.value),l.append("description",V.value),l.append("price",_.value),l.append("week_price",P.value),l.append("month_price",k.value),l.append("pickupLoc",x.value),l.append("category",U.value),l.append("specifications",JSON.stringify(B.value)),l.append("included",D.value),l.append("instant_confirmation",q.value),l.append("location_types",T.value),l.append("fuel_policy",S.value),!oe())return;(await axios.post("post/vehicles",l)).data.status&&d.success("Your Vehicle Created Successfully",{position:"top"}),ue.get("/vehicles")}catch(l){d.error(l.response.data.message,{position:"top"})}};return te(()=>{X(),Q(),H(),ee(),Z(),K(),le()}),(l,o)=>{const n=he,m=me,R=se;return t(),f("div",ge,[e("div",ye,[we,e("div",Ve,[e("div",Pe,[e("form",{onSubmit:ie(ae,["prevent"])},[e("div",ke,[xe,e("div",$e,[Ce,Se,h(m,{modelValue:i.value,"onUpdate:modelValue":o[0]||(o[0]=a=>i.value=a),size:"large",filterable:"",remote:"","reserve-keyword":"",placeholder:"Photo...","remote-show-suffix":"","remote-method":J,loading:u.loading.value,onClick:o[1]||(o[1]=a=>J())},{default:b(()=>{var a;return[(t(),w(n,{key:null,label:null,value:null},{default:b(()=>[Le]),_:1})),(t(!0),f(g,null,y((a=u.list)==null?void 0:a.value,v=>(t(),w(n,{key:v.id,label:v.label,value:v.photo},{default:b(()=>[e("div",Ue,[e("img",{src:"/img/vehicles/"+v.photo,style:{width:"50px"}},null,8,Te),Y(" "+A(v.label),1)])]),_:2},1032,["label","value"]))),128))]}),_:1},8,["modelValue","loading"]),e("div",De,[i.value?(t(),f("img",{key:0,src:"img/vehicles/"+i.value,class:"mb-4 col-12",width:"300",height:"300"},null,8,ze)):ne("",!0)])]),e("div",Ne,[Be,Fe,F(e("input",{"onUpdate:modelValue":o[2]||(o[2]=a=>p.value=a),type:"text",class:"formbold-form-input"},null,512),[[E,p.value]])]),e("div",Ee,[Oe,qe,e("div",Ie,[h(m,{modelValue:x.value,"onUpdate:modelValue":o[3]||(o[3]=a=>x.value=a),size:"large",class:"col-12",filterable:"",remote:"","reserve-keyword":"",placeholder:"Pickup...","remote-show-suffix":"","remote-method":j,loading:c.loading.value,onClick:o[4]||(o[4]=a=>j())},{default:b(()=>[(t(!0),f(g,null,y(c.options.value,a=>(t(),w(n,{key:a.id,label:a.label,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"])])]),e("div",Me,[We,je,h(m,{modelValue:U.value,"onUpdate:modelValue":o[5]||(o[5]=a=>U.value=a),size:"large",class:"col-12",filterable:"",remote:"","reserve-keyword":"",placeholder:"Select Category...","remote-show-suffix":"","remote-method":W,loading:r.loading.value,onClick:o[6]||(o[6]=a=>W())},{default:b(()=>[(t(!0),f(g,null,y(r.list.value,a=>(t(),w(n,{key:a.id,label:a.label,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"])]),e("div",Je,[Re,Ye,h(m,{modelValue:T.value,"onUpdate:modelValue":o[7]||(o[7]=a=>T.value=a),size:"large",class:"col-12",filterable:"",remote:"","reserve-keyword":"",placeholder:"Select Location Type...","remote-show-suffix":"",loading:C.loading.value},{default:b(()=>[(t(!0),f(g,null,y(C.list.value,a=>(t(),w(n,{key:a.id,label:a.label,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"])]),e("div",Ae,[Ge,e("div",He,[h(m,{modelValue:S.value,"onUpdate:modelValue":o[8]||(o[8]=a=>S.value=a),size:"large",filterable:"",placeholder:"Select Fuel Policy...",loading:L.loading.value,required:""},{default:b(()=>[(t(!0),f(g,null,y(L.list.value,a=>(t(),w(n,{key:a.label,label:a.label,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"])])]),e("div",Ke,[Qe,h(R,{size:"large",modelValue:q.value,"onUpdate:modelValue":o[9]||(o[9]=a=>q.value=a)},null,8,["modelValue"])]),e("div",Xe,[Ze,el,h(de(pe),{modelValue:V.value,"onUpdate:modelValue":o[10]||(o[10]=a=>V.value=a),class:"col-6"},null,8,["modelValue"])])]),ll,e("div",ol,[al,e("div",sl,[tl,il,e("div",nl,[F(e("input",{"onUpdate:modelValue":o[11]||(o[11]=a=>_.value=a),type:"text",pattern:"[0-9]+([,.][0-9]+)?",class:"formbold-form-input col-6"},null,512),[[E,_.value]])])]),e("div",dl,[cl,rl,e("div",ul,[F(e("input",{"onUpdate:modelValue":o[12]||(o[12]=a=>P.value=a),type:"text",pattern:"[0-9]+([,.][0-9]+)?",class:"formbold-form-input col-6"},null,512),[[E,P.value]])])]),e("div",pl,[vl,fl,e("div",ml,[F(e("input",{"onUpdate:modelValue":o[13]||(o[13]=a=>k.value=a),type:"text",pattern:"[0-9]+([,.][0-9]+)?",class:"formbold-form-input col-6"},null,512),[[E,k.value]])])])]),hl,bl,e("div",_l,[e("div",gl,[h(m,{modelValue:D.value,"onUpdate:modelValue":o[14]||(o[14]=a=>D.value=a),size:"large",filterable:"",remote:"",multiple:"",class:"col-5","reserve-keyword":"",placeholder:"Select features...","remote-show-suffix":""},{default:b(()=>[(t(!0),f(g,null,y(z.list.value,a=>(t(),w(n,{key:a.id,label:a.label,value:a.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])])]),yl,wl,e("div",Vl,[(t(!0),f(g,null,y(M.value,(a,v)=>(t(),f("div",{key:v,class:"formbold-mb-3 col-6"},[e("label",Pl,[Y(A(a.name)+" - ",1),e("i",{class:re("fa fa-"+a.icon)},null,2)]),h(m,{modelValue:I.value[v],"onUpdate:modelValue":N=>I.value[v]=N,size:"large",filterable:"",remote:"",class:"col-5","reserve-keyword":"",placeholder:"Select Option...","remote-show-suffix":""},{default:b(()=>[(t(!0),f(g,null,y(a.options,N=>(t(),w(n,{onClick:xl=>G(a.name,N,a.icon),key:N,label:N,value:N},null,8,["onClick","label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]))),128))]),kl],32)])])])])}}};export{Rl as default};
