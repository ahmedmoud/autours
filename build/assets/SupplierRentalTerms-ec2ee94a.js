import"./base-40151e19.js";import{E as R}from "./el-dialog-d5ae21c8.js";import"./el-overlay-2e6efded.js";import{E as B}from "./el-form-item-fe8237be.js";import{E as H}from "./el-button-7a3e83ea.js";import{E as I,a as N}from "./el-table-column-d728468a.js";import{E as U}from "./el-checkbox-8f2d8563.js";import"./el-tooltip-fe7a3ae3.js";import"./el-scrollbar-4d76fa87.js";import{E as F}from "./el-input-5a2c3fae.js";/* empty css               */import{r as i,k as P,T as $,o as q,a as g,c as v,b as a,d as l,l as n,i as z,w as A,u as c,j as T}from "./app-417fc4a4.js";import{s as w}from "./editor.esm-0a488cd8.js";import{d as j}from "./index-5c14bedf.js";/* empty css                    */import"./typescript-8048a034.js";import"./index-e7076969.js";import"./use-global-config-2834e396.js";import"./objects-a3f7d715.js";import"./scroll-b0cd01fe.js";import"./_initCloneObject-5d6a36d4.js";import"./isArrayLikeObject-38992b29.js";import"./_baseIteratee-ab40514f.js";import"./flatten-66fc93b5.js";import"./basecomponent.esm-c24a460c.js";const G={class:"card"},J={class:"card-body"},K=a("h2",{class:"mb-4"},"Rental Terms",-1),O={class:"card"},Q={class:"d-flex"},W=["innerHTML"],X=["innerHTML"],Y={key:0,class:"warning"},Z={key:1,class:"warning"},ee={class:"row",style:{height:"300px"}},te={class:"formbold-mb-3 col-6"},oe=a("label",{class:"formbold-form-label"}," Title ",-1),se={class:"formbold-mb-3 col-6 position-relative"},le=a("label",{class:"formbold-form-label"}," Description ",-1),Re={__name:"SupplierRentalTerms",setup(ae){const u=i(""),b=i([]),_=i(!1);i("");const V=i([]);i(!1),i(!1);const m=i(!1),d=j.useToast(),x=async t=>{try{const o=new FormData;o.append("term_id",t.id);const r=await axios.post("select-rental-terms",o);r.data.status&&(d.success("Rental Term added successfully",{position:"top"}),s.reset()),console.log(r.data.status)}catch(o){d.error(o.response.data.message,{position:"top"})}finally{f()}},E=async()=>{m.value=!1},k=()=>{m.value=!0},f=async()=>{try{_.value=!0;const t=await axios.get("get/rental-terms");b.value=t.data,console.log(t.data)}catch(t){console.error(t)}finally{_.value=!1}},C=P(()=>b.value.filter(t=>!u.value||t.name.toLowerCase().includes(u.value.toLowerCase()))),s=$({title:"",description:""}),h=async()=>{try{const t=new FormData,o=V.value;if(s.title===""||s.title===null||s.title===void 0){d.error("Please Insert Valid Title",{position:"top"});return}if(s.description===""||s.description===null||s.description===void 0){d.error("Please Insert Valid description",{position:"top"});return}t.append("title",s.title),t.append("description",s.description),t.append("status",1);const r=await axios.post("post/rental-terms",t);m.value=!1,console.log(r),r.data.status&&(d.success("Rental Term added successfully",{position:"top"}),s.reset()),console.log(r.data.status)}catch(t){console.log(t),d.error(t.response.data.message,{position:"top"})}finally{f()}};return q(()=>{f()}),(t, o)=>{const r=U,p=N,D=F,S=I,y=H,M=B,L=R;return g(),v("div",G,[a("div",J,[K,a("button",{class:"btn btn-primary col-md-2 my-5",onClick:o[0]||(o[0]= e=>k())},"Suggest Rental Term"),a("div",O,[a("div",Q,[l(S,{data:C.value,style:{width:"100%"},loading:_.value,stripe:""},{default:n(()=>[l(p,{width:"100",label:"Select"},{default:n(e=>[l(r,{disabled:e.row.status===3,checked:e.row.selected,size:"large",onClick: ne=>x(e.row)},null,8,["disabled","checked","onClick"])]),_:1}),l(p,{label:"Title"},{default:n(e=>[a("div",{innerHTML:e.row.title},null,8,W)]),_:1}),l(p,{label:"Description"},{default:n(e=>[a("div",{innerHTML:e.row.description},null,8,X)]),_:1}),l(p,{label:"Status"},{default:n(e=>[e.row.status===1?(g(),v("div",Y," Pending ")):e.row.status===2?(g(),v("div",Z," Approved ")):z("",!0)]),_:1}),l(p,{align:"right"},{header:n(()=>[l(D,{modelValue:u.value,"onUpdate:modelValue":o[1]||(o[1]= e=>u.value=e),size:"small",placeholder:"Type to search"},null,8,["modelValue"])]),_:1})]),_:1},8,["data","loading"])]),l(L,{modelValue:m.value,"onUpdate:modelValue":o[4]||(o[4]= e=>m.value=e)},{default:n(()=>[a("form",{onSubmit:A(h,["prevent"]),class:"mt-5"},[a("div",ee,[a("div",te,[oe,l(c(w),{modelValue:c(s).title,"onUpdate:modelValue":o[2]||(o[2]= e=>c(s).title=e),type:"text",style:{height:"200px"},required:""},null,8,["modelValue"])]),a("div",se,[le,l(c(w),{modelValue:c(s).description,"onUpdate:modelValue":o[3]||(o[3]= e=>c(s).description=e),type:"text",style:{height:"200px"},required:""},null,8,["modelValue"])])]),l(M,{class:"mt-5"},{default:n(()=>[l(y,{type:"submit",onClick:h},{default:n(()=>[T("Add")]),_:1}),l(y,{onClick:E},{default:n(()=>[T("Cancel")]),_:1})]),_:1})],32)]),_:1},8,["modelValue"])])])])}}};export{Re as default};
