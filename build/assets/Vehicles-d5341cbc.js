import{g as Ke,b as qe,_ as Le,E as Me,ae as je,u as Ge,s as Xe,p as Je,w as We,a as Ze,L as Qe,h as Ce}from"./base-006c1490.js";import{b as Ye,c as xe,E as Ie,e as eo,u as oo,g as lo,f as ao}from"./el-overlay-06af9ddc.js";import{E as Re}from"./el-input-6a853cb5.js";/* empty css               *//* empty css                  */import{E as ze,l as we}from"./el-scrollbar-3fe9b6f7.js";import{E as so,a as to}from"./el-table-column-716264cc.js";import"./el-checkbox-5300d020.js";import"./el-tooltip-66a73e45.js";import{E as De}from"./el-button-50047d3c.js";import{S as x,A as Pe,k as L,r as i,x as R,a as u,q as $,d as p,l as c,f as D,b as t,z as no,w as X,n as v,c as k,y as ee,t as U,i as T,B as pe,D as Oe,a2 as ro,W as io,G as Ee,o as Ue,Z as uo,X as co,H as ke,I as ce,R as fe,j as _,J as _e,K as Ne,M as Fe,ah as Se,af as fo,L as Be,F as Z,m as Q,v as Y,O as po}from"./app-30bfa28d.js";import{a as mo,T as $e}from"./typescript-3a767c6c.js";import{i as vo}from"./validator-0602e0e9.js";import{u as bo}from"./use-global-config-8bd1557e.js";import{u as Te}from"./index-ee9cdf57.js";import{a as go,E as ho}from"./index-9021004d.js";import"./scroll-f882c87e.js";import"./objects-59c3839e.js";import"./_initCloneObject-c174f230.js";import"./isArrayLikeObject-f1e7b3e7.js";import"./_baseIteratee-287b9fba.js";import"./flatten-d513a695.js";const yo='a[href],button:not([disabled]),button:not([hidden]),:not([tabindex="-1"]),input:not([disabled]),input:not([type="hidden"]),select:not([disabled]),textarea:not([disabled])',Co=e=>getComputedStyle(e).position==="fixed"?!1:e.offsetParent!==null,Ve=e=>Array.from(e.querySelectorAll(yo)).filter(o=>wo(o)&&Co(o)),wo=e=>{if(e.tabIndex>0||e.tabIndex===0&&e.getAttribute("tabIndex")!==null)return!0;if(e.disabled)return!1;switch(e.nodeName){case"A":return!!e.href&&e.rel!=="ignore";case"INPUT":return!(e.type==="hidden"||e.type==="file");case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}},ye="_trap-focus-children",K=[],Ae=e=>{if(K.length===0)return;const o=K[K.length-1][ye];if(o.length>0&&e.code===Ke.tab){if(o.length===1){e.preventDefault(),document.activeElement!==o[0]&&o[0].focus();return}const d=e.shiftKey,m=e.target===o[0],b=e.target===o[o.length-1];m&&d&&(e.preventDefault(),o[o.length-1].focus()),b&&!d&&(e.preventDefault(),o[0].focus())}},Eo={beforeMount(e){e[ye]=Ve(e),K.push(e),K.length<=1&&document.addEventListener("keydown",Ae)},updated(e){x(()=>{e[ye]=Ve(e)})},unmounted(){K.shift(),K.length===0&&document.removeEventListener("keydown",Ae)}},ko=qe({...Ye,direction:{type:String,default:"rtl",values:["ltr","rtl","ttb","btt"]},size:{type:[String,Number],default:"30%"},withHeader:{type:Boolean,default:!0},modalFade:{type:Boolean,default:!0},headerAriaLevel:{type:String,default:"2"}}),So=xe,Bo=Pe({name:"ElDrawer",components:{ElOverlay:Ie,ElFocusTrap:ze,ElIcon:Me,Close:je},inheritAttrs:!1,props:ko,emits:So,setup(e,{slots:o}){Te({scope:"el-drawer",from:"the title slot",replacement:"the header slot",version:"3.0.0",ref:"https://element-plus.org/en-US/component/drawer.html#slots"},L(()=>!!o.title)),Te({scope:"el-drawer",from:"custom-class",replacement:"class",version:"2.3.0",ref:"https://element-plus.org/en-US/component/drawer.html#attributes",type:"Attribute"},L(()=>!!e.customClass));const d=i(),m=i(),b=Ge("drawer"),{t:f}=Xe(),g=L(()=>e.direction==="rtl"||e.direction==="ltr"),C=L(()=>Je(e.size));return{...eo(e,d),drawerRef:d,focusStartRef:m,isHorizontal:g,drawerSize:C,ns:b,t:f}}}),$o=["aria-label","aria-labelledby","aria-describedby"],To=["id","aria-level"],Vo=["aria-label"],Ao=["id"];function Lo(e,o,d,m,b,f){const g=R("close"),C=R("el-icon"),h=R("el-focus-trap"),s=R("el-overlay");return u(),$(ro,{to:"body",disabled:!e.appendToBody},[p(Oe,{name:e.ns.b("fade"),onAfterEnter:e.afterEnter,onAfterLeave:e.afterLeave,onBeforeLeave:e.beforeLeave,persisted:""},{default:c(()=>[D(p(s,{mask:e.modal,"overlay-class":e.modalClass,"z-index":e.zIndex,onClick:e.onModalClick},{default:c(()=>[p(h,{loop:"",trapped:e.visible,"focus-trap-el":e.drawerRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:c(()=>[t("div",no({ref:"drawerRef","aria-modal":"true","aria-label":e.title||void 0,"aria-labelledby":e.title?void 0:e.titleId,"aria-describedby":e.bodyId},e.$attrs,{class:[e.ns.b(),e.direction,e.visible&&"open",e.customClass],style:e.isHorizontal?"width: "+e.drawerSize:"height: "+e.drawerSize,role:"dialog",onClick:o[1]||(o[1]=X(()=>{},["stop"]))}),[t("span",{ref:"focusStartRef",class:v(e.ns.e("sr-focus")),tabindex:"-1"},null,2),e.withHeader?(u(),k("header",{key:0,class:v(e.ns.e("header"))},[e.$slots.title?ee(e.$slots,"title",{key:1},()=>[T(" DEPRECATED SLOT ")]):ee(e.$slots,"header",{key:0,close:e.handleClose,titleId:e.titleId,titleClass:e.ns.e("title")},()=>[e.$slots.title?T("v-if",!0):(u(),k("span",{key:0,id:e.titleId,role:"heading","aria-level":e.headerAriaLevel,class:v(e.ns.e("title"))},U(e.title),11,To))]),e.showClose?(u(),k("button",{key:2,"aria-label":e.t("el.drawer.close"),class:v(e.ns.e("close-btn")),type:"button",onClick:o[0]||(o[0]=(...V)=>e.handleClose&&e.handleClose(...V))},[p(C,{class:v(e.ns.e("close"))},{default:c(()=>[p(g)]),_:1},8,["class"])],10,Vo)):T("v-if",!0)],2)):T("v-if",!0),e.rendered?(u(),k("div",{key:1,id:e.bodyId,class:v(e.ns.e("body"))},[ee(e.$slots,"default")],10,Ao)):T("v-if",!0),e.$slots.footer?(u(),k("div",{key:2,class:v(e.ns.e("footer"))},[ee(e.$slots,"footer")],2)):T("v-if",!0)],16,$o)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])]),_:3},8,["mask","overlay-class","z-index","onClick"]),[[pe,e.visible]])]),_:3},8,["name","onAfterEnter","onAfterLeave","onBeforeLeave"])],8,["disabled"])}var Mo=Le(Bo,[["render",Lo],["__file","/home/runner/work/element-plus/element-plus/packages/components/drawer/src/drawer.vue"]]);const Io=We(Mo),Ro=Pe({name:"ElMessageBox",directives:{TrapFocus:Eo},components:{ElButton:De,ElFocusTrap:ze,ElInput:Re,ElOverlay:Ie,ElIcon:Me,...mo},inheritAttrs:!1,props:{buttonSize:{type:String,validator:vo},modal:{type:Boolean,default:!0},lockScroll:{type:Boolean,default:!0},showClose:{type:Boolean,default:!0},closeOnClickModal:{type:Boolean,default:!0},closeOnPressEscape:{type:Boolean,default:!0},closeOnHashChange:{type:Boolean,default:!0},center:Boolean,draggable:Boolean,roundButton:{default:!1,type:Boolean},container:{type:String,default:"body"},boxType:{type:String,default:""}},emits:["vanish","action"],setup(e,{emit:o}){const{locale:d,zIndex:m,ns:b,size:f}=bo("message-box",L(()=>e.buttonSize)),{t:g}=d,{nextZIndex:C}=m,h=i(!1),s=io({autofocus:!0,beforeClose:null,callback:null,cancelButtonText:"",cancelButtonClass:"",confirmButtonText:"",confirmButtonClass:"",customClass:"",customStyle:{},dangerouslyUseHTMLString:!1,distinguishCancelAndClose:!1,icon:"",inputPattern:null,inputPlaceholder:"",inputType:"text",inputValue:null,inputValidator:null,inputErrorMessage:"",message:null,modalFade:!0,modalClass:"",showCancelButton:!1,showConfirmButton:!0,type:"",title:void 0,showInput:!1,action:"",confirmButtonLoading:!1,cancelButtonLoading:!1,confirmButtonDisabled:!1,editorErrorMessage:"",validateError:!1,zIndex:C()}),V=L(()=>{const y=s.type;return{[b.bm("icon",y)]:y&&$e[y]}}),E=we(),w=we(),le=L(()=>s.icon||$e[s.type]||""),N=L(()=>!!s.message),r=i(),ae=i(),F=i(),q=i(),se=i(),me=L(()=>s.confirmButtonClass);Ee(()=>s.inputValue,async y=>{await x(),e.boxType==="prompt"&&y!==null&&re()},{immediate:!0}),Ee(()=>h.value,y=>{var M,l;y&&(e.boxType!=="prompt"&&(s.autofocus?F.value=(l=(M=se.value)==null?void 0:M.$el)!=null?l:r.value:F.value=r.value),s.zIndex=C()),e.boxType==="prompt"&&(y?x().then(()=>{var a;q.value&&q.value.$el&&(s.autofocus?F.value=(a=W())!=null?a:r.value:F.value=r.value)}):(s.editorErrorMessage="",s.validateError=!1))});const te=L(()=>e.draggable);oo(r,ae,te),Ue(async()=>{await x(),e.closeOnHashChange&&window.addEventListener("hashchange",H)}),uo(()=>{e.closeOnHashChange&&window.removeEventListener("hashchange",H)});function H(){h.value&&(h.value=!1,x(()=>{s.action&&o("action",s.action)}))}const ne=()=>{e.closeOnClickModal&&j(s.distinguishCancelAndClose?"close":"cancel")},ve=ao(ne),be=y=>{if(s.inputType!=="textarea")return y.preventDefault(),j("confirm")},j=y=>{var M;e.boxType==="prompt"&&y==="confirm"&&!re()||(s.action=y,s.beforeClose?(M=s.beforeClose)==null||M.call(s,y,s,H):H())},re=()=>{if(e.boxType==="prompt"){const y=s.inputPattern;if(y&&!y.test(s.inputValue||""))return s.editorErrorMessage=s.inputErrorMessage||g("el.messagebox.error"),s.validateError=!0,!1;const M=s.inputValidator;if(typeof M=="function"){const l=M(s.inputValue);if(l===!1)return s.editorErrorMessage=s.inputErrorMessage||g("el.messagebox.error"),s.validateError=!0,!1;if(typeof l=="string")return s.editorErrorMessage=l,s.validateError=!0,!1}}return s.editorErrorMessage="",s.validateError=!1,!0},W=()=>{const y=q.value.$refs;return y.input||y.textarea},ie=()=>{j("close")},ue=()=>{e.closeOnPressEscape&&ie()};return e.lockScroll&&lo(h),{...co(s),ns:b,overlayEvent:ve,visible:h,hasMessage:N,typeClass:V,contentId:E,inputId:w,btnSize:f,iconComponent:le,confirmButtonClasses:me,rootRef:r,focusStartRef:F,headerRef:ae,inputRef:q,confirmRef:se,doClose:H,handleClose:ie,onCloseRequested:ue,handleWrapperClick:ne,handleInputEnter:be,handleAction:j,t:g}}}),zo=["aria-label","aria-describedby"],Do=["aria-label"],Po=["id"];function Oo(e,o,d,m,b,f){const g=R("el-icon"),C=R("close"),h=R("el-input"),s=R("el-button"),V=R("el-focus-trap"),E=R("el-overlay");return u(),$(Oe,{name:"fade-in-linear",onAfterLeave:o[11]||(o[11]=w=>e.$emit("vanish")),persisted:""},{default:c(()=>[D(p(E,{"z-index":e.zIndex,"overlay-class":[e.ns.is("message-box"),e.modalClass],mask:e.modal},{default:c(()=>[t("div",{role:"dialog","aria-label":e.title,"aria-modal":"true","aria-describedby":e.showInput?void 0:e.contentId,class:v(`${e.ns.namespace.value}-overlay-message-box`),onClick:o[8]||(o[8]=(...w)=>e.overlayEvent.onClick&&e.overlayEvent.onClick(...w)),onMousedown:o[9]||(o[9]=(...w)=>e.overlayEvent.onMousedown&&e.overlayEvent.onMousedown(...w)),onMouseup:o[10]||(o[10]=(...w)=>e.overlayEvent.onMouseup&&e.overlayEvent.onMouseup(...w))},[p(V,{loop:"",trapped:e.visible,"focus-trap-el":e.rootRef,"focus-start-el":e.focusStartRef,onReleaseRequested:e.onCloseRequested},{default:c(()=>[t("div",{ref:"rootRef",class:v([e.ns.b(),e.customClass,e.ns.is("draggable",e.draggable),{[e.ns.m("center")]:e.center}]),style:ke(e.customStyle),tabindex:"-1",onClick:o[7]||(o[7]=X(()=>{},["stop"]))},[e.title!==null&&e.title!==void 0?(u(),k("div",{key:0,ref:"headerRef",class:v(e.ns.e("header"))},[t("div",{class:v(e.ns.e("title"))},[e.iconComponent&&e.center?(u(),$(g,{key:0,class:v([e.ns.e("status"),e.typeClass])},{default:c(()=>[(u(),$(ce(e.iconComponent)))]),_:1},8,["class"])):T("v-if",!0),t("span",null,U(e.title),1)],2),e.showClose?(u(),k("button",{key:0,type:"button",class:v(e.ns.e("headerbtn")),"aria-label":e.t("el.messagebox.close"),onClick:o[0]||(o[0]=w=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel")),onKeydown:o[1]||(o[1]=fe(X(w=>e.handleAction(e.distinguishCancelAndClose?"close":"cancel"),["prevent"]),["enter"]))},[p(g,{class:v(e.ns.e("close"))},{default:c(()=>[p(C)]),_:1},8,["class"])],42,Do)):T("v-if",!0)],2)):T("v-if",!0),t("div",{id:e.contentId,class:v(e.ns.e("content"))},[t("div",{class:v(e.ns.e("container"))},[e.iconComponent&&!e.center&&e.hasMessage?(u(),$(g,{key:0,class:v([e.ns.e("status"),e.typeClass])},{default:c(()=>[(u(),$(ce(e.iconComponent)))]),_:1},8,["class"])):T("v-if",!0),e.hasMessage?(u(),k("div",{key:1,class:v(e.ns.e("message"))},[ee(e.$slots,"default",{},()=>[e.dangerouslyUseHTMLString?(u(),$(ce(e.showInput?"label":"p"),{key:1,for:e.showInput?e.inputId:void 0,innerHTML:e.message},null,8,["for","innerHTML"])):(u(),$(ce(e.showInput?"label":"p"),{key:0,for:e.showInput?e.inputId:void 0},{default:c(()=>[_(U(e.dangerouslyUseHTMLString?"":e.message),1)]),_:1},8,["for"]))])],2)):T("v-if",!0)],2),D(t("div",{class:v(e.ns.e("input"))},[p(h,{id:e.inputId,ref:"inputRef",modelValue:e.inputValue,"onUpdate:modelValue":o[2]||(o[2]=w=>e.inputValue=w),type:e.inputType,placeholder:e.inputPlaceholder,"aria-invalid":e.validateError,class:v({invalid:e.validateError}),onKeydown:fe(e.handleInputEnter,["enter"])},null,8,["id","modelValue","type","placeholder","aria-invalid","class","onKeydown"]),t("div",{class:v(e.ns.e("errormsg")),style:ke({visibility:e.editorErrorMessage?"visible":"hidden"})},U(e.editorErrorMessage),7)],2),[[pe,e.showInput]])],10,Po),t("div",{class:v(e.ns.e("btns"))},[e.showCancelButton?(u(),$(s,{key:0,loading:e.cancelButtonLoading,class:v([e.cancelButtonClass]),round:e.roundButton,size:e.btnSize,onClick:o[3]||(o[3]=w=>e.handleAction("cancel")),onKeydown:o[4]||(o[4]=fe(X(w=>e.handleAction("cancel"),["prevent"]),["enter"]))},{default:c(()=>[_(U(e.cancelButtonText||e.t("el.messagebox.cancel")),1)]),_:1},8,["loading","class","round","size"])):T("v-if",!0),D(p(s,{ref:"confirmRef",type:"primary",loading:e.confirmButtonLoading,class:v([e.confirmButtonClasses]),round:e.roundButton,disabled:e.confirmButtonDisabled,size:e.btnSize,onClick:o[5]||(o[5]=w=>e.handleAction("confirm")),onKeydown:o[6]||(o[6]=fe(X(w=>e.handleAction("confirm"),["prevent"]),["enter"]))},{default:c(()=>[_(U(e.confirmButtonText||e.t("el.messagebox.confirm")),1)]),_:1},8,["loading","class","round","disabled","size"]),[[pe,e.showConfirmButton]])],2)],6)]),_:3},8,["trapped","focus-trap-el","focus-start-el","onReleaseRequested"])],42,zo)]),_:3},8,["z-index","overlay-class","mask"]),[[pe,e.visible]])]),_:3})}var Uo=Le(Ro,[["render",Oo],["__file","/home/runner/work/element-plus/element-plus/packages/components/message-box/src/index.vue"]]);const oe=new Map,_o=e=>{let o=document.body;return e.appendTo&&(_e(e.appendTo)&&(o=document.querySelector(e.appendTo)),Ce(e.appendTo)&&(o=e.appendTo),Ce(o)||(o=document.body)),o},No=(e,o,d=null)=>{const m=p(Uo,e,Be(e.message)||Ne(e.message)?{default:Be(e.message)?e.message:()=>e.message}:null);return m.appContext=d,Fe(m,o),_o(e).appendChild(o.firstElementChild),m.component},Fo=()=>document.createElement("div"),Ho=(e,o)=>{const d=Fo();e.onVanish=()=>{Fe(null,d),oe.delete(b)},e.onAction=f=>{const g=oe.get(b);let C;e.showInput?C={value:b.inputValue,action:f}:C=f,e.callback?e.callback(C,m.proxy):f==="cancel"||f==="close"?e.distinguishCancelAndClose&&f!=="cancel"?g.reject("close"):g.reject("cancel"):g.resolve(C)};const m=No(e,d,o),b=m.proxy;for(const f in e)Se(e,f)&&!Se(b.$props,f)&&(b[f]=e[f]);return b.visible=!0,b};function J(e,o=null){if(!Ze)return Promise.reject();let d;return _e(e)||Ne(e)?e={message:e}:d=e.callback,new Promise((m,b)=>{const f=Ho(e,o??J._context);oe.set(f,{options:e,callback:d,resolve:m,reject:b})})}const Ko=["alert","confirm","prompt"],qo={alert:{closeOnPressEscape:!1,closeOnClickModal:!1},confirm:{showCancelButton:!0},prompt:{showCancelButton:!0,showInput:!0}};Ko.forEach(e=>{J[e]=jo(e)});function jo(e){return(o,d,m,b)=>{let f="";return fo(d)?(m=d,f=""):Qe(d)?f="":f=d,J(Object.assign({title:f,message:o,type:"",...qo[e]},m,{boxType:e}),b)}}J.close=()=>{oe.forEach((e,o)=>{o.doClose()}),oe.clear()};J._context=null;const O=J;O.install=e=>{O._context=e._context,e.config.globalProperties.$msgbox=O,e.config.globalProperties.$messageBox=O,e.config.globalProperties.$alert=O.alert,e.config.globalProperties.$confirm=O.confirm,e.config.globalProperties.$prompt=O.prompt};const he=O;const Go={class:"card"},Xo={class:"card-body"},Jo=t("h2",{class:"mb-4"},"Fleet",-1),Wo={class:"d-flex"},Zo=["src"],Qo=["src"],Yo=t("h4",null,"Edit your vehicle",-1),xo={class:"formbold-mb-3"},el=t("label",{class:"formbold-form-label"}," Vehicle Photo ",-1),ol=["src"],ll=["src"],al={class:"d-flex",style:{gap:"10px"}},sl=["src"],tl={class:"formbold-mb-3"},nl=t("label",{class:"formbold-form-label"}," Vehicle Name ",-1),rl={class:"formbold-mb-3"},il=t("label",{class:"formbold-form-label"}," Vehicle Description ",-1),ul={class:"formbold-mb-3"},dl=t("label",{class:"formbold-form-label"},"Price",-1),cl={class:"input-with-percent"},fl=t("span",{class:"percent-symbol"},"$",-1),pl={class:"formbold-mb-3"},ml=t("label",{class:"formbold-form-label"},"3 - 7 Days Price",-1),vl={class:"input-with-percent"},bl=t("span",{class:"percent-symbol"},"$",-1),gl={class:"formbold-mb-3"},hl=t("label",{class:"formbold-form-label"},"30 Days Price",-1),yl={class:"input-with-percent"},Cl=t("span",{class:"percent-symbol"},"$",-1),wl={class:"formbold-mb-3"},El=t("label",{class:"formbold-form-label"}," Vehicle Location ",-1),kl={class:"formbold-mb-3"},Sl=t("label",{class:"formbold-form-label"},"Category",-1),Bl={class:"formbold-form-label"},$l={style:{flex:"auto"}},Zl={__name:"Vehicles",setup(e){const o=i(""),d=i([]),m=i(!1),b=i(""),f=i(!1),g=i(""),C=i(""),h={loading:i(!1),all:i([]),list:i([]),options:i([])},s={loading:i(!1),all:i([]),list:i([]),options:i([])},V=i(""),E={loading:i(!1),all:i([]),list:i([]),options:i([])},w=i([]),le=i([]),N=i([]),r=i({}),ae=async()=>{s.loading.value=!0;try{const l=await axios.get("/get/photos");s.all.value=l.data,s.list.value=s.all.value.map(a=>({id:`${a.id}`,label:`${a.name}`,photo:`${a.photo}`}))}catch(l){console.error(l)}finally{s.loading.value=!1}},F=l=>{l?(s.loading.value=!0,setTimeout(()=>{s.loading.value=!1,s.options.value=s.list.value.filter(a=>a.label.toLowerCase().includes(l.toLowerCase()))},200)):s.options.value=s.list.value},q=(l,a,S)=>{console.log(S);const z={name:l,icon:S.icon,option:a};if(console.log(z),!N.value.some(I=>I.name===l))N.value.push(z);else{const I=N.value.find(A=>A.name===l);I&&(I.option=a)}},se=async()=>{try{const l=await axios.get("get/specifications");console.log(l.data),le.value=l.data}catch(l){console.error(l)}finally{}},me=async()=>{h.loading.value=!0;try{const l=await axios.get("get/categories");h.all.value=l.data,h.list.value=h.all.value.map(a=>({id:`${a.id}`,label:`${a.name}`}))}catch(l){console.error(l)}finally{h.loading.value=!1}},te=l=>{l?(h.loading.value=!0,setTimeout(()=>{h.loading.value=!1,h.options.value=h.list.value.filter(a=>a.label.toLowerCase().includes(l.toLowerCase()))},200)):h.options.value=h.list.value},H=(l,a)=>{po.get("edit/vehicle",{id:a.id})},ne=()=>{he.confirm("Are you sure you want to cancel this?").then(()=>{f.value=!1}).catch(()=>{})};function ve(){he.confirm("Are you sure you want to cancel this?").then(()=>{f.value=!1}).catch(()=>{})}function be(){he.confirm("Are you sure you want to modify this?").then(()=>{j(),f.value=!1}).catch(()=>{})}const j=async()=>{try{const l=new FormData;g.value.includes("_")?l.append("photo",g.value):l.append("photo",r.value.photo),l.append("id",r.value.id),l.append("name",r.value.name),l.append("description",r.value.description),l.append("price",r.value.price),l.append("week_price",r.value.week_price),l.append("month_price",r.value.month_price),isNaN(C.value)?l.append("category",r.value.category.id):l.append("category",C.value),isNaN(V.value)?l.append("pickupLoc",r.value.branch.id):l.append("pickupLoc",V.value),N.value&&l.append("specifications",JSON.stringify(N.value)),l.append("update","1");const a=await axios.post("post/vehicles",l);d.value=a.data}catch(l){console.error(l)}finally{for(const l in r.value)r.value[l]=null;W()}},re=async()=>{try{const l=await axios.get("get/user/role");b.value=l.data}catch(l){console.error(l)}},W=async(l,a)=>{var S,z,P;try{m.value=!0;const I=await axios.get("/get/vehicles");d.value=I.data;for(const A in d.value[l])r.value[A]=d.value[l][A]||"";g.value=(S=s.all.value.find(A=>A.photo===r.value.photo))==null?void 0:S.name,C.value=(z=r.value.category)==null?void 0:z.name,V.value=(P=r.value.branch)==null?void 0:P.name}catch(I){console.error(I)}finally{m.value=!1}},ie=async()=>{E.loading.value=!0;try{const l=await axios.get("get/branches");E.all.value=l.data,E.list.value=E.all.value.map(a=>({id:`${a.id}`,label:`${a.name}`}))}catch(l){console.error(l)}finally{E.loading.value=!1}},ue=l=>{l?(E.loading.value=!0,setTimeout(()=>{E.loading.value=!1,E.options.value=E.list.value.filter(a=>a.label.toLowerCase().includes(l.toLowerCase()))},200)):E.options.value=E.list.value},y=L(()=>(Array.isArray(d.value)?d.value:[]).filter(a=>!o.value||a.name.toLowerCase().includes(o.value.toLowerCase()))),M=async(l,a)=>{try{if(!confirm("Are you sure want to delete ?"+a.name))return;m.value=!0;const z=await axios.post("delete/vehicles/"+a.id);d.value=z.data}catch(S){console.error(S)}finally{m.value=!1,W()}};return Ue(()=>{re(),W(),me(),se(),ae(),ie()}),(l,a)=>{const S=to,z=Re,P=De,I=so,A=go,de=ho,He=Io;return u(),k("div",Go,[t("div",Xo,[Jo,t("div",Wo,[p(I,{data:y.value,style:{width:"100%"},loading:m.value,stripe:""},{default:c(()=>[p(S,{label:"Photo",prop:""},{default:c(B=>[t("img",{src:"/img/vehicles/"+B.row.photo,class:"w-100"},null,8,Zo)]),_:1}),p(S,{label:"Name",prop:"name"}),p(S,{label:"Pickup",prop:"branch.location",width:"200"}),p(S,{label:"Price",prop:"price"}),p(S,{label:"Active Rentals",prop:"rentals_count"}),b.value==="admin"?(u(),$(S,{key:0,label:"Supplier"},{default:c(B=>[t("img",{src:"/img/"+B.row.supplier.logo,class:"w-100",width:"50",height:"120"},null,8,Qo)]),_:1})):T("",!0),p(S,{align:"right"},{header:c(()=>[p(z,{modelValue:o.value,"onUpdate:modelValue":a[0]||(a[0]=B=>o.value=B),size:"small",placeholder:"Type to search"},null,8,["modelValue"])]),default:c(B=>[p(P,{class:"col-6",size:"large",type:"danger",onClick:n=>M(B.$index,B.row)},{default:c(()=>[_("Delete ")]),_:2},1032,["onClick"]),p(P,{class:"col-6",size:"large",type:"info",onClick:n=>{H(B.$index,B.row)}},{default:c(()=>[_("Edit ")]),_:2},1032,["onClick"])]),_:1})]),_:1},8,["data","loading"])]),p(He,{modelValue:f.value,"onUpdate:modelValue":a[12]||(a[12]=B=>f.value=B),direction:"rtl","before-close":ne},{header:c(()=>[Yo]),default:c(()=>{var B;return[t("div",null,[t("form",{onSubmit:a[11]||(a[11]=X(()=>{},["prevent"]))},[t("div",xo,[el,(B=g.value)!=null&&B.includes("_")?(u(),k("img",{key:0,src:"/img/vehicles/"+g.value,class:"w-100 mb-2",style:{"border-radius":"15px"}},null,8,ol)):r.value.photo?(u(),k("img",{key:1,src:"/img/vehicles/"+r.value.photo,class:"w-100 mb-2",style:{"border-radius":"15px"}},null,8,ll)):T("",!0),p(de,{modelValue:g.value,"onUpdate:modelValue":a[1]||(a[1]=n=>g.value=n),size:"large",filterable:"",remote:"","reserve-keyword":"",placeholder:"Photo...","remote-show-suffix":"","remote-method":F,loading:s.loading.value},{default:c(()=>[(u(!0),k(Z,null,Q(s.options.value,n=>(u(),$(A,{key:n.id,label:n.label,value:n.photo},{default:c(()=>[t("div",al,[t("img",{src:"img/vehicles/"+n.photo,style:{width:"50px"}},null,8,sl),_(" "+U(n.label),1)])]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue","loading"])]),t("div",tl,[nl,D(t("input",{"onUpdate:modelValue":a[2]||(a[2]=n=>r.value.name=n),type:"text",class:"formbold-form-input",required:""},null,512),[[Y,r.value.name]])]),t("div",rl,[il,D(t("textarea",{"onUpdate:modelValue":a[3]||(a[3]=n=>r.value.description=n),class:"formbold-form-input"},null,512),[[Y,r.value.description]])]),t("div",ul,[dl,t("div",cl,[D(t("input",{"onUpdate:modelValue":a[4]||(a[4]=n=>r.value.price=n),type:"text",pattern:"[0-9]+([,.][0-9]+)?",class:"formbold-form-input"},null,512),[[Y,r.value.price]]),fl])]),t("div",pl,[ml,t("div",vl,[D(t("input",{"onUpdate:modelValue":a[5]||(a[5]=n=>r.value.week_price=n),type:"text",pattern:"[0-9]+([,.][0-9]+)?",class:"formbold-form-input"},null,512),[[Y,r.value.week_price]]),bl])]),t("div",gl,[hl,t("div",yl,[D(t("input",{"onUpdate:modelValue":a[6]||(a[6]=n=>r.value.month_price=n),type:"text",pattern:"[0-9]+([,.][0-9]+)?",class:"formbold-form-input"},null,512),[[Y,r.value.month_price]]),Cl])]),t("div",wl,[El,p(de,{modelValue:V.value,"onUpdate:modelValue":a[7]||(a[7]=n=>V.value=n),size:"large",filterable:"",remote:"","reserve-keyword":"",placeholder:"Pickup...","remote-show-suffix":"","remote-method":ue,loading:E.loading.value,onClick:a[8]||(a[8]=n=>ue())},{default:c(()=>[(u(!0),k(Z,null,Q(E.options.value,n=>(u(),$(A,{key:n.id,label:n.label,value:n.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"])]),t("div",kl,[Sl,p(de,{modelValue:C.value,"onUpdate:modelValue":a[9]||(a[9]=n=>C.value=n),size:"large",filterable:"",remote:"","reserve-keyword":"",placeholder:"Select Category...","remote-show-suffix":"","remote-method":te,loading:h.loading.value,onClick:a[10]||(a[10]=n=>te())},{default:c(()=>[(u(!0),k(Z,null,Q(h.options.value,n=>(u(),$(A,{key:n.id,label:n.label,value:n.id},null,8,["label","value"]))),128))]),_:1},8,["modelValue","loading"])]),(u(!0),k(Z,null,Q(le.value,(n,ge)=>(u(),k("div",{key:ge,class:"formbold-mb-3"},[t("label",Bl,U(n.name),1),p(de,{modelValue:w.value[ge],"onUpdate:modelValue":G=>w.value[ge]=G,size:"large",filterable:"",remote:"","reserve-keyword":"",placeholder:"SELECT OPTION...","remote-show-suffix":""},{default:c(()=>[(u(!0),k(Z,null,Q(n.options,G=>(u(),$(A,{onClick:Tl=>q(n.name,G,n),key:G,label:G,value:G},null,8,["onClick","label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"])]))),128))],32)])]}),footer:c(()=>[t("div",$l,[p(P,{onClick:ve},{default:c(()=>[_("cancel")]),_:1}),p(P,{type:"primary",onClick:be},{default:c(()=>[_("confirm")]),_:1})])]),_:1},8,["modelValue"])])])}}};export{Zl as default};
