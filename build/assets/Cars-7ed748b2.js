import"./base-40151e19.js";import{E as x,a as k}from "./el-table-column-d728468a.js";import{E}from "./el-checkbox-8f2d8563.js";import"./el-tooltip-fe7a3ae3.js";import"./el-scrollbar-4d76fa87.js";/* empty css               */import{r as e,k as _,o as V,a as p,c as m,b as r,d as l,l as u,i as T}from "./app-417fc4a4.js";import{d as A}from "./index-5c14bedf.js";/* empty css                    */import"./objects-a3f7d715.js";import"./_initCloneObject-5d6a36d4.js";import"./isArrayLikeObject-38992b29.js";import"./_baseIteratee-ab40514f.js";import"./flatten-66fc93b5.js";const B={class:"card"},L={class:"card-body"},D=r("h2",{class:"mb-4"},"Assign Cars To Branch",-1),N={class:"justify-content-center col-md-12"},P={key:0,class:"row"},O={class:"card-body"},j=["src"],Y={__name:"Cars",setup(F){const o=e(""),h=e([]),s=e(!1);e(!1);const v=e({});e("");const f=e(!1),i=e([]);A.useToast(),e(!1),e([]),e([]),e([]);const d=e([]);e(!1),e([]),e([]),e([]),e(!1),e([]),e([]),e([]);const g= a=>{var t;console.log(a),((t=i.value)==null?void 0:t.indexOf(a))>=0?i.value.splice(i.value.indexOf(a),1):i.value.push(a),console.log(i.value)};_(()=>{if(typeof o.value=="string")return h.value.filter(a=>!o.value||a.what_is_included!=null||a.what_is_included.toLowerCase().includes(o.value.toLowerCase()));o.value=""});const w=_(()=>(Array.isArray(d.value)?d.value:[]).filter(t=>!o.value||t.vehicle_name&&t.vehicle_name.toLowerCase().includes(o.value.toLowerCase()))),b=async()=>{try{s.value=!0;const a=await axios.get("/get/profit");d.value=a.data.data,f.value=a.data.supplier_id,s.value=!1}catch(a){s.value=!1,console.error(a)}};return V(async()=>{let a=new URLSearchParams(window.location.search);a.has("id")&&(v.value=a.get("id")),await b()}),(a, t)=>{const y=E,c=k,C=x;return p(),m("div",B,[r("div",L,[D,r("div",N,[s.value?T("",!0):(p(),m("div",P,[r("div",O,[l(C,{data:w.value,style:{width:"100%"},loading:s.value,stripe:""},{default:u(()=>[l(c,{label:"In Branch",prop:"what_is_included"},{default:u(n=>[l(y,{value:n.row.id,onClick: I=>g(n.row.vehicle_id)},null,8,["value","onClick"])]),_:1}),l(c,{label:"Photo",prop:""},{default:u(n=>[r("img",{src:"/img/vehicles/"+n.row.photo,width:"150",height:"100"},null,8,j)]),_:1}),l(c,{label:"Vehicle Name",prop:"vehicle_name"}),l(c,{label:"Category",prop:"category"})]),_:1},8,["data","loading"])])]))])])])}}};export{Y as default};
