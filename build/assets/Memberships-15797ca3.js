import"./base-006c1490.js";import{E as C,a as E}from"./el-table-column-716264cc.js";import"./el-checkbox-5300d020.js";import"./el-tooltip-66a73e45.js";import"./el-scrollbar-3fe9b6f7.js";import{E as V}from"./el-button-50047d3c.js";import{E as D}from"./el-input-6a853cb5.js";/* empty css               */import{r as p,k as B,o as N,a as l,c as u,b as i,d as n,l as s,q as m,j as v,i as y,t as T}from"./app-30bfa28d.js";import"./objects-59c3839e.js";import"./_initCloneObject-c174f230.js";import"./isArrayLikeObject-f1e7b3e7.js";import"./_baseIteratee-287b9fba.js";import"./flatten-d513a695.js";import"./index-ee9cdf57.js";import"./use-global-config-8bd1557e.js";import"./typescript-3a767c6c.js";const q={class:"card"},A={class:"card-body"},S=i("h2",{class:"mb-4"},"Memberships",-1),$={class:"card"},z={class:"card-body"},M={class:"d-flex",style:{"margin-top":"50px"}},j={key:0},L={key:1},U={key:2},re={__name:"Memberships",setup(I){const c=p(""),d=p([]),o=p(!1),h=async()=>{try{o.value=!0;const a=await axios.get("get/requests");d.value=a.data}catch(a){console.error(a)}finally{o.value=!1}},f=B(()=>d.value.filter(a=>!c.value||a.company.toLowerCase().includes(c.value.toLowerCase()))),w=async(a,r)=>{try{o.value=!0;const t=await axios.post("accept/requests",r);d.value=t.data}catch(t){console.error(t)}finally{o.value=!1}},b=async(a,r)=>{try{o.value=!0;const t=await axios.post("delete/requests",r);d.value=t.data}catch(t){console.error(t)}finally{o.value=!1}};return N(()=>{h()}),(a,r)=>{const t=E,k=D,_=V,x=C;return l(),u("div",q,[i("div",A,[S,i("div",$,[i("div",z,[i("div",M,[n(x,{data:f.value,style:{width:"100%"},loading:o.value,stripe:""},{default:s(()=>[n(t,{label:"Company",prop:"name"}),n(t,{label:"Status",prop:""},{default:s(e=>[e.row.role==="under_review"?(l(),u("div",j,"Under review")):e.row.role==="active_supplier"?(l(),u("div",L,"Active Supplier")):(l(),u("div",U,"Non Active Supplier"))]),_:1}),n(t,{align:"right"},{header:s(()=>[n(k,{modelValue:c.value,"onUpdate:modelValue":r[0]||(r[0]=e=>c.value=e),size:"small",placeholder:"Type to search"},null,8,["modelValue"])]),default:s(e=>[e.row.role==="under_review"?(l(),m(_,{key:0,size:"small",type:"success",onClick:g=>w(e.$index,e.row)},{default:s(()=>[v("Accept ")]),_:2},1032,["onClick"])):y("",!0),e.row.role==="under_review"||e.row.role==="active_supplier"?(l(),m(_,{key:1,size:"small",type:"danger",onClick:g=>b(e.$index,e.row)},{default:s(()=>[v(T(e.row.role==="under_review"?"Reject":e.row.role==="active_supplier"?"Disable":""),1)]),_:2},1032,["onClick"])):y("",!0)]),_:1})]),_:1},8,["data","loading"])])])])])])}}};export{re as default};
