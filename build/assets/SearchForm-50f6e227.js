import"./base-40151e19.js";import{E as Y}from "./el-date-picker-570f40ab.js";import"./el-input-5a2c3fae.js";import"./el-scrollbar-4d76fa87.js";import"./el-button-7a3e83ea.js";/* empty css               *//* empty css                  */import{T as D,r as o,o as E,a as i,c as p,q as v,i as g,w as M,b as t,d as f,l as I,F as B,m as F,p as P,g as q}from "./app-417fc4a4.js";import{L as C}from "./Loader-c820d086.js";/* empty css                                                                   */import{_ as N}from "./_plugin-vue_export-helper-c27b6911.js";import{E as O,a as U}from "./index-7afdeace.js";import"./flatten-66fc93b5.js";import"./typescript-8048a034.js";import"./index-e7076969.js";import"./use-global-config-2834e396.js";import"./objects-a3f7d715.js";/* empty css                                                               */import"./scroll-b0cd01fe.js";import"./_baseIteratee-ab40514f.js";import"./validator-3cef17f7.js";const h= d=>(P("data-v-3788e275"),d=d(),q(),d),j={class:"justify-content-center",style:{background:"#f9d602",height:"280px"}},z={class:"row align-items-center w-100 d-flex",style:{"margin-left":"5%"}},T=h(()=>t("div",{class:"row"},[t("div",{class:"date-range-alert-danger danger display-none col-4 offset-4"},[t("li",null,"Please Select Date Range")]),t("div",{class:"danger pickup-location-alert-danger display-none col-5"},[t("li",null," Please select Location ")])],-1)),A={class:"col-md-3"},R={class:"col-md-5"},G={class:"form-control-wrap col-md-10"},H=h(()=>t("div",{class:"col-md-2"},[t("input",{type:"submit",value:"Search",class:"btn btn-fullwidth rounded-3",style:{padding:"9px 25px",background:"#0a3622",color:"#f9d602"}})],-1)),J={__name:"SearchForm",setup(d){const u=D({pickupLoc:"",date:"",currency:""}),_=o({}),l=o("");o("");const r=o(""),c={all:o([]),options:o([]),loading:o(!1)},e=o(!1),y=o([]),k=async()=>{try{e.value=!0;const a=await axios.get("get/logos");_.value=a.data,e.value=!1}catch(a){console.error(a)}},w=async()=>{try{e.value=!0;const a=await axios.get("get/vehicles");y.value=a.data,e.value=!1}catch(a){console.error(a)}},x=async()=>{c.loading.value=!0,e.value=!0;try{const a=await axios.get("/get/locations");c.all.value=Object.values(a.data),console.log(c),e.value=!1}catch(a){console.error(a)}finally{c.loading.value=!1}},S=()=>{if(e.value=!0,u.pickupLoc=r.value,u.date=l.value,u.currency=localStorage.getItem("currency")??"USD",l.value==[]||l.value===null){$(".date-range-alert-danger").show(),e.value=!1;return}if(r.value==null||r.value==[]){e.value=!1,$(".pickup-location-alert-danger").show();return}u.post("search/vehicles"),e.value=!1},m=()=>{l.value!=[]&&l.value!=null&&$(".date-range-alert-danger").hide(),r.value!=[]&&r.value!=null&&$(".pickup-location-alert-danger").hide()};return E(()=>{x(),w(),k()}),(a, n)=>{const b=U,V=O,L=Y;return i(),p("div",j,[e.value?(i(),v(C,{key:0})):g("",!0),e.value?g("",!0):(i(),p("form",{key:1,class:"trip-form d-flex search-form",onSubmit:M(S,["prevent"]),style:{"max-width":"70%",top:"25%",left:"12%"}},[t("div",z,[T,t("div",A,[f(V,{modelValue:r.value,"onUpdate:modelValue":n[1]||(n[1]= s=>r.value=s),size:"large",filterable:"",class:"col-md-10",remote:"","reserve-keyword":"",placeholder:"Pickup...","remote-show-suffix":""},{default:I(()=>[(i(!0),p(B,null,F(c.all.value, s=>(i(),v(b,{onClick:n[0]||(n[0]=()=>{}),"aria-required":"true",key:s,label:s,change:m(),value:s},null,8,["label","change","value"]))),128))]),_:1},8,["modelValue"])]),t("div",R,[t("div",G,[f(L,{modelValue:l.value,"onUpdate:modelValue":n[2]||(n[2]= s=>l.value=s),type:"daterange","range-separator":"TO","start-placeholder":"Start date","end-placeholder":"End date",size:"large",required:"true",change:m(),format:"YYYY/MM/DD","value-format":"YYYY-MM-DD"},null,8,["modelValue","change"])])]),H])],32))])}}},fe=N(J,[["__scopeId","data-v-3788e275"]]);export{fe as default};
