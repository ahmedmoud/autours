import"./base-006c1490.js";import{E as f,a as y}from"./el-table-column-716264cc.js";import"./el-checkbox-5300d020.js";import"./el-tooltip-66a73e45.js";import"./el-scrollbar-3fe9b6f7.js";import{E as b}from"./el-input-6a853cb5.js";/* empty css               */import{r as n,k as g,o as C,a as w,c as x,b as u,d as t,l as i}from"./app-30bfa28d.js";import"./objects-59c3839e.js";import"./_initCloneObject-c174f230.js";import"./isArrayLikeObject-f1e7b3e7.js";import"./_baseIteratee-287b9fba.js";import"./flatten-d513a695.js";import"./typescript-3a767c6c.js";const E={class:"card"},L={class:"card-body"},V=u("h2",{class:"mb-4"},"Customers",-1),T={class:"d-flex"},J={__name:"Customers",setup(k){const a=n(""),l=n([]),c=n(!1),p=n(""),m=async()=>{try{const e=await axios.get("/get/user/role");p.value=e.data}catch(e){console.error(e)}},d=async()=>{try{c.value=!0;const e=await axios.get("/get/customers");l.value=e.data.data}catch(e){console.error(e)}finally{c.value=!1}},_=g(()=>{var e;return(e=l==null?void 0:l.value)==null?void 0:e.filter(s=>{var o,r;return!a.value||s.name.toLowerCase().includes(a.value.toLowerCase())||((o=s.country)==null?void 0:o.toLowerCase().includes(a.value.toLowerCase()))||((r=s.phone_num)==null?void 0:r.includes(a.value.toLowerCase()))})});return C(()=>{m(),d()}),(e,s)=>{const o=y,r=b,v=f;return w(),x("div",E,[u("div",L,[V,u("div",T,[t(v,{data:_.value,style:{width:"100%"},loading:c.value,stripe:""},{default:i(()=>[t(o,{label:"Name",prop:"name"}),t(o,{label:"E-mail",prop:"email"}),t(o,{label:"Mobile",prop:"phone_num"}),t(o,{label:"Country",prop:"country"}),t(o,{align:"right"},{header:i(()=>[t(r,{modelValue:a.value,"onUpdate:modelValue":s[0]||(s[0]=h=>a.value=h),size:"default",placeholder:"Type to search"},null,8,["modelValue"])]),_:1})]),_:1},8,["data","loading"])])])])}}};export{J as default};
